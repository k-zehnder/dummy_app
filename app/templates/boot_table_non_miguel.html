{% extends "base.html" %}

{% block head %}
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Bootstrap Table - Flask example </title>
  <script
  src="https://code.jquery.com/jquery-2.2.4.min.js"
  integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44="
  crossorigin="anonymous"></script>
  <script type="text/javascript" src="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
  <link rel="stylesheet" type="text/css" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.11.1/bootstrap-table.min.css">
  <script type='text/javascript' src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.11.1/bootstrap-table.min.js"></script>
  <!-- BOOTSTRAP: This must go here or table will not render properly in production -->
  <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css" rel="stylesheet">
  <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"> </script>
{% endblock %}


{% block app_content %}
  <div class="container" style="padding: 10px; ">
    <h1>{{title}}</h1>
    <br/>
    <div id="toolbar"></div>
    <table
      id="table"
      data-toggle="true"
      data-toolbar="#toolbar"
      data-search="true"
      data-show-columns="true"
      data-pagination="true"
      data-height="500">
    </table>
  </div>
{% endblock %}


{% block style %}
<style type='text/css'>
  .row-index {
    width: 50px;
    display: inline-block;
  }
</style>
{% endblock %}

{% block scripts %}
<script type='text/javascript'>
  $(window).load(function(){
    var data = {{data|tojson}};
    var columns = {{columns|tojson}};

    $(function() {
      $('#table').bootstrapTable({ 
        data: data,
        columns: columns,
      });

    });

  });
</script>
{% endblock %}
